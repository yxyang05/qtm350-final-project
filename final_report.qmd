---
title: "Two Decades of Educational Change: Global Enrollment Trends and Gender Gap Reduction, 2000–2020"
author:
  - name: "Annie Cao (ID: 2599315)"
  - name: "Vicki Wang (ID: 2581225)"
  - name: "Yan Yang (ID: 2610419)"
  - name: "Gloria Wang (2550999)"
format:
  html:
    toc: true
    number-sections: true
  pdf:
    toc: true
    number-sections: true
execute:
  echo: false      
  warning: false  
  message: false  
  cache: false
bibliography: references.bib
csl: apa.csl
---

# Introduction

The overarching goal of this project is to evaluate global progress in equitable access to education from 2000 to 2020. We focus on whether less-developed regions have been catching up to the world average in school enrollment and whether gender disparities in these regions have narrowed over time. 

By combining regional and gender-disaggregated enrollment data, we assess whether international development efforts have contributed to convergence in both educational attainment and gender parity.

* add main findings *

# Data Description & Cleaning
This project uses school enrollment data from the **World Bank World Development Indicators (WDI)** database. The dataset includes gross enrollment ratios for three education levels—**primary**, **secondary**, and **tertiary**—, total and by gender. The indicators are:

- **Primary Education**
  - Total: `SE.PRM.ENRR`
  - Male: `SE.PRM.ENRR.MA`
  - Female: `SE.PRM.ENRR.FE`

- **Secondary Education**
  - Total: `SE.SEC.ENRR`
  - Male: `SE.SEC.ENRR.MA`
  - Female: `SE.SEC.ENRR.FE`

- **Tertiary Education**
  - Total: `SE.TER.ENRR`
  - Male: `SE.TER.ENRR.MA`
  - Female: `SE.TER.ENRR.FE`

Data were collected for all available countries over the period **2000–2020** using the `wb.data.DataFrame()` function. The raw dataset was saved as `data/wdi_edu.csv`.

---

Here are our preprocessing steps before  analysis:

## Removal of Missing Values
Rows with incomplete observations across any of the enrollment indicators were removed to ensure consistent time-series data. The resulting cleaned dataset (`df_clean`) contains only complete country-year records for all twenty years.

## Standardizing Indicator Labels
A mapping dictionary was applied to replace WDI indicator codes with more descriptive names such as:

- `"SE.PRM.ENRR"` → `"primary"`
- `"SE.PRM.ENRR.FE"` → `"primary_female"`
- `"SE.SEC.ENRR.MA"` → `"secondary_male"`
- `"SE.TER.ENRR"` → `"tertiary"`

## Filtering to Target Regions
We filtered our data down to keep only the major global regions:

- Sub-Saharan Africa  
- South Asia  
- Middle East, North Africa, Afghanistan & Pakistan  
- Latin America & Caribbean  
- East Asia & Pacific  
- Europe & Central Asia  
- North America  
- World

## Converting to Long Format
The cleaned regional dataset was reshaped from wide to long form:

- Year columns (e.g., `"YR2000"`) were turned into a single `year` variable.
- `"YR"` prefixes were removed and values were converted to integers.
- Data were sorted by `Country`, `series`, and `year`.

## Exporting Final Dataset
The final long-format dataset used for analysis was saved as `data/wdi_edu_filtered_long.csv`.

# Data Analysis
*add sql table*


```{python}
from matplotlib import pyplot as plt
import matplotlib.image as mpimg

# Convergence Lines
converge_line_primary = mpimg.imread("figures/primary_convergence_lines_colored.png")
converge_line_secondary = mpimg.imread("figures/secondary_convergence_lines_colored.png")
converge_line_tertiary = mpimg.imread("figures/tertiary_convergence_lines_colored.png")

# Convergence Bars
converge_bar_primary = mpimg.imread("figures/primary_convergence_barplot_colored.png")
converge_bar_secondary = mpimg.imread("figures/secondary_convergence_barplot_colored.png")
converge_bar_tertiary = mpimg.imread("figures/tertiary_convergence_barplot_colored.png")

# Gender Gap 
gpi_primary = mpimg.imread("figures/gpi_trend_primary.png")
gpi_secondary = mpimg.imread("figures/gpi_trend_secondary.png")
gpi_tertiary = mpimg.imread("figures/gpi_trend_tertiary.png")
```

## Enrollment Trends over Time 2000-2020
*intro*

```{python}
plt.figure()
plt.imshow(converge_line_primary)

plt.figure()
plt.imshow(converge_line_secondary)

plt.figure()
plt.imshow(converge_line_tertiary)
```

*analysis*

## Regional Convergence
To assess how each region compare to the global education level, we examine the convergence in primary, secondary, and tertiary school enrollment. For 2000 and 2020, we caculated each region's gap from the world average and measured convergence as the reduction in the absolute distance to the global mean. A positive convergence score indicates the region is moving closer to the world enrollment level while a negative score indicates divergence.

Importantly, these convergence scores should be interpreted alongside previous line graphs. A negative score does not necessarily imply worsening outcomes as divergence may occur because a region’s enrollment rate is rising faster than the world average and surpassing it, not only because it is falling behind. Thus, evaluating both the direction of the gap and the trajectory of enrollment levels is essential for understanding the nature of convergence or divergence.

The bar plots summarize how five major world regions (East Asia & Pacific, Latin America & Caribbean, Middle East & North Africa, South Asoa, and Sub-Saharan Africa) progress across education levels. This helps reveal not only which regions are closing historical enrollment gaps but also where disparities have persisted or widened over the past two decades.

```{python}
plt.figure()
plt.imshow(converge_bar_primary)

plt.figure()
plt.imshow(converge_bar_secondary)

plt.figure()
plt.imshow(converge_bar_tertiary)
```

*analysis*

## Gender Parity in Educational Participation

In this section, we assess the evolution of female–male enrollment disparities across five major world regions with historically lower baseline access to education: East Asia & Pacific, Latin America & Caribbean, Middle East & North Africa (including Afghanistan and Pakistan), South Asia, and Sub-Saharan Africa. The global average is incorporated as a benchmark to contextualize regional progress. Gender disparities are quantified through the Gender Parity Index (GPI), calculated as female enrollment divided by male enrollment using World Bank WDI statistics. A value of 1.0 represents gender parity, while values below or above 1.0 indicate male- or female-favored enrollment gaps, respectively. The analysis focuses on three educational stages (primary, secondary, and tertiary) over the period 2000 to 2020.


```{python}
import os
import pandas as pd
import numpy as np
import seaborn as sns
import matplotlib.pyplot as plt

os.makedirs("figures", exist_ok=True)
df = pd.read_csv("data/wdi_edu_filtered.csv")

df["Country"] = df["Country"].astype(str).str.strip()

gender_df = df[df["series"].str.contains("_male|_female", case=False, na=False)].copy()

year_cols = [c for c in gender_df.columns if c.startswith("YR")]
long_df = gender_df.melt(
    id_vars=["Country", "series"],
    value_vars=year_cols,
    var_name="Year",
    value_name="Rate"
)

long_df["Year"] = long_df["Year"].str.replace("YR", "", regex=False).astype(int)
long_df[["Level", "Gender"]] = long_df["series"].str.split(pat="_", n=1, expand=True)

pivot_df = long_df.pivot_table(
    index=["Country", "Level", "Year"],
    columns="Gender",
    values="Rate"
).reset_index()

pivot_df["GPI"] = pivot_df["female"] / pivot_df["male"]
pivot_df = pivot_df.replace([np.inf, -np.inf], np.nan).dropna(subset=["GPI"])

pivot_df["Country"] = pivot_df["Country"].astype(str).str.strip()

regions = [
    "East Asia & Pacific",
    "Latin America & Caribbean",
    "Middle East, North Africa, Afghanistan & Pakistan",
    "South Asia",
    "Sub-Saharan Africa",
    "World"
]

plot_df = pivot_df[pivot_df["Country"].isin(regions)].copy()

region_colors = {
    "East Asia & Pacific": "#0072B2",
    "Latin America & Caribbean": "#E69F00",
    "Middle East, North Africa, Afghanistan & Pakistan": "#009E73",
    "South Asia": "#D55E00",
    "Sub-Saharan Africa": "#6F42C1",
    "World": "#58595B"
}

sns.set_theme(style="whitegrid")
```

```{python}
#| label: fig-gpi-primary
#| fig-cap: "Gender Parity Index (GPI) in Primary Education, 2000–2020. The shaded band indicates near parity (0.97–1.03)."

level = "primary"
fig, ax = plt.subplots(figsize=(10, 6))
subset = plot_df[plot_df["Level"] == level]

for region in regions:
    data = subset[subset["Country"] == region].sort_values("Year")
    if data.empty: 
        continue
    color = region_colors.get(region, "gray")
    lw   = 2.8 if region == "World" else 2.0
    alpha = 1.0 if region == "World" else 0.9
    z    = 10  if region == "World" else 5
    ms   = 5.5 if region == "World" else 4
    
    ax.plot(data["Year"], data["GPI"], 
            marker="o", markersize=ms, linewidth=lw, 
            color=color, alpha=alpha, label=region, zorder=z)

ax.axhspan(0.97, 1.03, color="#CFCFCF", alpha=0.3, zorder=1, label="Near parity")
ax.axhline(1.0, color="#333333", linestyle="--", linewidth=1.2, zorder=1)

ax.set_title("Primary Education", fontsize=15, fontweight="bold", pad=20)
ax.set_ylabel("Gender Parity Index (Female / Male)", fontsize=12)
ax.set_xlabel("Year", fontsize=12)
ax.set_ylim(0.65, 1.45)

years = sorted(subset["Year"].unique())
ax.set_xticks(np.arange(min(years), max(years)+1, 5))

ax.grid(True, linewidth=0.4, alpha=0.7)
ax.text(0.98, 1.01, "Parity = 1.0", transform=ax.transAxes, 
        fontsize=10, ha="right", va="bottom", color="gray")

legend = ax.legend(loc="upper center", bbox_to_anchor=(0.5, -0.15), 
                   ncol=3, frameon=False, fontsize=10.5)
legend.get_title().set_fontweight("bold")

plt.tight_layout()
plt.savefig("figures/gpi_primary.png", dpi=300, bbox_inches="tight")
plt.show()
```

#### Primary Education

As shown in @fig-gpi-primary, primary-level GPI trends reveal substantial convergence toward gender parity across all regions. By 2020, nearly all regions are positioned within the internationally recognized near-parity threshold (0.97–1.03), including the global average, indicating that gender inequality at the point of entry into schooling has been largely eliminated. Latin America & the Caribbean demonstrates a consistently slight female advantage throughout the two decades. East Asia & Pacific and the world average achieved parity by the mid-2000s and maintained it thereafter. Although starting from a relatively disadvantaged position in 2000, South Asia and Sub-Saharan Africa exhibit steady and continuous improvement, closing the enrollment gap substantially by 2020. These patterns suggest that global education initiatives targeting universal primary school access have been effective in reducing structural gender exclusion in early schooling.

```{python}
#| label: fig-gpi-secondary
#| fig-cap: "Gender Parity Index (GPI) in Secondary Education, 2000–2020. The shaded band indicates near parity (0.97–1.03)."

level = "secondary"
fig, ax = plt.subplots(figsize=(10, 6))
subset = plot_df[plot_df["Level"] == level]

for region in regions:
    data = subset[subset["Country"] == region].sort_values("Year")
    if data.empty: continue
    color = region_colors.get(region, "gray")
    lw   = 2.8 if region == "World" else 2.0
    alpha = 1.0 if region == "World" else 0.9
    z    = 10  if region == "World" else 5
    ms   = 5.5 if region == "World" else 4
    
    ax.plot(data["Year"], data["GPI"], marker="o", markersize=ms, 
            linewidth=lw, color=color, alpha=alpha, label=region, zorder=z)

ax.axhspan(0.97, 1.03, color="#CFCFCF", alpha=0.3, zorder=1)
ax.axhline(1.0, color="#333333", linestyle="--", linewidth=1.2, zorder=1)

ax.set_title("Secondary Education", fontsize=15, fontweight="bold", pad=20)
ax.set_ylabel("Gender Parity Index (Female / Male)", fontsize=12)
ax.set_xlabel("Year", fontsize=12)
ax.set_ylim(0.65, 1.45)

years = sorted(subset["Year"].unique())
ax.set_xticks(np.arange(min(years), max(years)+1, 5))

ax.grid(True, linewidth=0.4, alpha=0.7)
ax.text(0.98, 1.01, "Parity = 1.0", transform=ax.transAxes, 
        fontsize=10, ha="right", va="bottom", color="gray")

legend = ax.legend(loc="upper center", bbox_to_anchor=(0.5, -0.15), 
                   ncol=3, frameon=False, fontsize=10.5)
legend.get_title().set_fontweight("bold")

plt.tight_layout()
plt.savefig("figures/gpi_secondary.png", dpi=300, bbox_inches="tight")
plt.show()
```

#### Secondary Education

@fig-gpi-secondary shows that while progress is evident at the secondary level, regional disparities remain more persistent than at the primary level. The world average and East Asia & Pacific reached parity by approximately 2010, indicating successful transition for girls into lower-secondary education in these contexts. In contrast, South Asia and Sub-Saharan Africa continue to fall slightly below parity by the end of the time period (approximately 0.94–0.95), despite gradual improvement. The Middle East, North Africa, Afghanistan & Pakistan grouping demonstrates slower convergence toward parity, reflecting continued gendered constraints during adolescence. Latin America & the Caribbean sustains a female-favored balance throughout the period, suggesting comparatively stronger retention of girls beyond primary schooling. These patterns underscore the importance of the primary-to-secondary transition as a critical juncture at which gendered barriers intensify.

```{python}
#| label: fig-gpi-tertiary
#| fig-cap: "Gender Parity Index (GPI) in Tertiary Education, 2000–2020. The shaded band indicates near parity (0.97–1.03)."

level = "tertiary"
fig, ax = plt.subplots(figsize=(10, 6))
subset = plot_df[plot_df["Level"] == level]

for region in regions:
    data = subset[subset["Country"] == region].sort_values("Year")
    if data.empty: continue
    color = region_colors.get(region, "gray")
    lw   = 2.8 if region == "World" else 2.0
    alpha = 1.0 if region == "World" else 0.9
    z    = 10  if region == "World" else 5
    ms   = 5.5 if region == "World" else 4
    
    ax.plot(data["Year"], data["GPI"], marker="o", markersize=ms, 
            linewidth=lw, color=color, alpha=alpha, label=region, zorder=z)

ax.axhspan(0.97, 1.03, color="#CFCFCF", alpha=0.3, zorder=1)
ax.axhline(1.0, color="#333333", linestyle="--", linewidth=1.2, zorder=1)

ax.set_title("Tertiary Education", fontsize=15, fontweight="bold", pad=20)
ax.set_ylabel("Gender Parity Index (Female / Male)", fontsize=12)
ax.set_xlabel("Year", fontsize=12)
ax.set_ylim(0.65, 1.45)

years = sorted(subset["Year"].unique())
ax.set_xticks(np.arange(min(years), max(years)+1, 5))

ax.grid(True, linewidth=0.4, alpha=0.7)
ax.text(0.98, 1.01, "Parity = 1.0", transform=ax.transAxes, 
        fontsize=10, ha="right", va="bottom", color="gray")

legend = ax.legend(loc="upper center", bbox_to_anchor=(0.5, -0.15), 
                   ncol=3, frameon=False, fontsize=10.5)
legend.get_title().set_fontweight("bold")

plt.tight_layout()
plt.savefig("figures/gpi_tertiary.png", dpi=300, bbox_inches="tight")
plt.show()
```

#### Tertiary Education

At the tertiary level, gender disparities become more pronounced and regionally divergent, as shown in  @fig-gpi-tertiary. The world average surpasses parity around 2010, reflecting the global expansion of women’s participation in higher education. Latin America & the Caribbean experiences the strongest female advantage, exceeding a GPI of 1.30 by 2020, while East Asia & Pacific and South Asia also cross parity after the mid-2010s, indicating accelerating gains in women’s university enrollment. In stark contrast, Sub-Saharan Africa remains significantly below parity throughout the period, with GPI values generally under 0.90 and only modest improvements toward the end of the decade. These persistent regional inequalities highlight the combined influence of financial pressures, limited tertiary infrastructure, and lower female completion rates at earlier levels, which collectively constrain women’s access to higher education in Sub-Saharan Africa.






























# Results and Discussion

# Conclusion